(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+MZv":function(e,t,a){e.exports={info:"styles_info_3i86R1UO_I-4PL_mbaqsb0",icon:"styles_icon_28r5ju0DDwvXLe5aMREC6f",message:"styles_message_VfbgbRA0Z_Wnsayc9mvqJ"}},CULv:function(e,t,a){"use strict";var n=a("FLGM"),s=a.n(n),r=a("q1tI"),o=a.n(r),l=a("FRrY"),c=a("kOYn"),i=a("hY82"),u=a.n(i);t.a=function(e){var t=e.className,a=Object(r.useContext)(c.a).mapContainerRef;return o.a.createElement("div",{ref:a,className:Object(l.a)(t,s()(u.a))})}},CrcU:function(e,t,a){e.exports={dashboard:"styles_dashboard_8ywT-7rT8ooKvsEAy0rmm",sidebar:"styles_sidebar_3yzacA5O5ZWcUlE4HqdnbX",header:"styles_header_2E2Ufn9FsGt6qvDIE50-cw",heading:"styles_heading_2DZa7wfEDLWfA7wYAHCAjL",description:"styles_description_2mBVvotcokFipjUbVlrVp",details:"styles_details_3vxjctnd_SDi2YnHFacJL_",actions:"styles_actions_2VrLVUjooTMemXCFIuWTQt","start-button":"styles_start-button_3y601DJk7lWMgJCcSqv9wf",startButton:"styles_start-button_3y601DJk7lWMgJCcSqv9wf",info:"styles_info_27ain1UkM63bK6lmg-2Nsv",progress:"styles_progress_Hlbu2-Yhp3k3g2ZBFwYpT","progress-bar":"styles_progress-bar_3nZh51uvKUwX1-SIx1QN1M",progressBar:"styles_progress-bar_3nZh51uvKUwX1-SIx1QN1M","task-list":"styles_task-list_1gq_xx3LsIQUcd0OpZ7Rxw",taskList:"styles_task-list_1gq_xx3LsIQUcd0OpZ7Rxw","retry-button":"styles_retry-button_1WpOvG6sxYnRgy0OMJ0TF7",retryButton:"styles_retry-button_1WpOvG6sxYnRgy0OMJ0TF7",conflicts:"styles_conflicts_2ZEqiCvAW2DpiLKmMTRcow","resolve-conflict-button":"styles_resolve-conflict-button_cWxi-rsTKJknQwiaOIki",resolveConflictButton:"styles_resolve-conflict-button_cWxi-rsTKJknQwiaOIki","conflict-status":"styles_conflict-status_21eHFd9VE4Zhi6Xqk7-nhA",conflictStatus:"styles_conflict-status_21eHFd9VE4Zhi6Xqk7-nhA",resolution:"styles_resolution_Oc6BJ81lAVK8w2RG0xxhF","push-to-upstream-button":"styles_push-to-upstream-button_1II5ckWc6A-usrXWwHuPZL",pushToUpstreamButton:"styles_push-to-upstream-button_1II5ckWc6A-usrXWwHuPZL",map:"styles_map_2D6nXsU3GMwq5ganIeDJZE"}},JMDu:function(e,t,a){e.exports={"progress-bar":"styles_progress-bar_2UlCxFFB7yVwXd1Q4w9DsO",progressBar:"styles_progress-bar_2UlCxFFB7yVwXd1Q4w9DsO",progress:"styles_progress_3j9e76lFA6s5FGGll8HXdY"}},PBSW:function(e,t,a){e.exports={"task-item":"styles_task-item_1PZFtrQPtuQxZPpDsawRrT",taskItem:"styles_task-item_1PZFtrQPtuQxZPpDsawRrT",left:"styles_left_kL3yMdDyVZRVyKGI52fZG",right:"styles_right_2pgZMF91PTBYPkfqQxEOmO","not-initiated":"styles_not-initiated_2CmZcxL8dtVqj05QV2It4k",notInitiated:"styles_not-initiated_2CmZcxL8dtVqj05QV2It4k",completed:"styles_completed_2HlEk92Y9iXSiCKqGR_Zt_",failed:"styles_failed_1_gmUXGFbeXhz_0FehvCHh",pending:"styles_pending_1vjg0T10c0rW9DLrpHuZQX"}},Tbdv:function(e,t,a){"use strict";a.r(t);var n,s=a("FLGM"),r=a.n(s),o=a("5PDf"),l=a.n(o),c=a("Kwsy"),i=a.n(c),u=a("06Pm"),m=a.n(u),d=a("kA7L"),p=a.n(d),f=a("3SUL"),_=a.n(f),v=a("eYnF"),g=a.n(v),h=a("hO3g"),y=a.n(h),b=a("X5/F"),C=a.n(b),E=a("04Ix"),S=a.n(E),k=a("q1tI"),N=a.n(k),x=a("FRrY"),w=a("Wwog"),O=a("YwZP"),P=a("T0Vd"),R=a("ZXUd"),I=a("gzC2"),B=a("CULv"),L=a("UAck"),j=a("k3Yy"),Y=a("vcHt"),T=a.n(Y),A=function(e){function t(){return m()(this,t),_()(this,g()(t).apply(this,arguments))}return C()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.label,n=e.value,s=e.labelClassName,r=e.valueClassName;return N.a.createElement("div",{className:Object(x.a)(T.a.textOutput,t)},N.a.createElement("div",{className:Object(x.a)(T.a.label,s)},a),N.a.createElement("div",{className:Object(x.a)(T.a.value,r)},n))}}]),t}(N.a.PureComponent),F=a("1+uH"),Z=a("+MZv"),D=a.n(Z),M=function(e){function t(){return m()(this,t),_()(this,g()(t).apply(this,arguments))}return C()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.message;return N.a.createElement("div",{className:Object(x.a)(D.a.info,t)},N.a.createElement(F.b,{className:D.a.icon,name:"infoCircle"}),N.a.createElement("div",{className:D.a.message},a))}}]),t}(N.a.PureComponent),V=a("hWwH"),U=a("Y0YZ"),W=a("PBSW"),q=a.n(W),J={"not-initiated":"checkmarkCircleEmpty",completed:"checkmarkCircle",failed:"error",pending:"checkmarkCircleEmpty"},H={"not-initiated":q.a.notInitiated,completed:q.a.completed,failed:q.a.failed,pending:q.a.pending},Q=function(e){function t(){return m()(this,t),_()(this,g()(t).apply(this,arguments))}return C()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.status,n=e.label;return N.a.createElement("div",{className:Object(x.a)(q.a.taskItem,t,H[a])},N.a.createElement("div",{className:q.a.left},"pending"===a?N.a.createElement(U.a,{className:q.a.spinner}):N.a.createElement(F.b,{name:J[a]})),N.a.createElement("div",{className:q.a.right},n))}}]),t}(N.a.PureComponent),X=a("zBMz"),K=Object(x.p)(l()(X.a).call(X.a,X.c),function(e){return e.name},function(e){return e.path}),G=a("CrcU"),z=a.n(G);!function(e){e[e.not_triggered=0]="not_triggered",e[e.gathering_changesets=1]="gathering_changesets",e[e.extracting_upstream_aoi=2]="extracting_upstream_aoi",e[e.extracting_local_aoi=3]="extracting_local_aoi",e[e.filtering_referenced_osm_elements=4]="filtering_referenced_osm_elements",e[e.conflicts=5]="conflicts",e[e.resolved=6]="resolved",e[e.push_conflicts=7]="push_conflicts",e[e.pushed_upstream=8]="pushed_upstream"}(n||(n={}));var $=[85.31066555023207,27.67117097577173,85.32710212707534,27.682648488328013],ee={zoomLevel:3,center:[84.124,28.3949],bounds:$},te={version:8,name:"Base Layer",sources:{mm:{type:"raster",url:"https://raw.githubusercontent.com/peetjvv/custom-mapbox-styles-examples/master/tilejson/2.2.0/esri_worldimagery_tilejson.json",tileSize:256}},layers:[{id:"background",type:"background",paint:{"background-color":"rgb(239, 239, 239)"}},{id:"mm_layer",type:"raster",source:"mm"}]},ae=.6,ne=function(e){function t(e){var a;return m()(this,t),a=_()(this,g()(t).call(this,e)),S()(y()(a),"handleStartButtonClick",function(){a.setState({posmStatus:{state:n.gathering_changesets}}),i()(function(){a.setState({posmStatus:{state:n.extracting_upstream_aoi}})},1e3*ae),i()(function(){a.setState({posmStatus:{state:n.extracting_local_aoi}})},2e3*ae),i()(function(){a.setState({posmStatus:{state:n.filtering_referenced_osm_elements}})},4e3*ae),i()(function(){a.setState({posmStatus:{state:n.filtering_referenced_osm_elements,hasErrored:!0}})},5e3*ae)}),S()(y()(a),"handleRetryButtonClick",function(){a.setState({posmStatus:{state:n.filtering_referenced_osm_elements}}),i()(function(){a.setState({posmStatus:{state:n.conflicts}})},3e3*ae)}),S()(y()(a),"handleResolveConflictButtonClick",function(){Object(O.c)(K.conflictResolution)}),S()(y()(a),"handlePushToUpstreamButton",function(){console.log("Push to upstream")}),S()(y()(a),"getVisiblePosmStates",Object(w.a)(function(e){return l()(e).call(e,function(e){return!e.hidden})})),S()(y()(a),"getPosmStateProgress",function(e,t){var n=a.getVisiblePosmStates(e);return(l()(n).call(n,function(e){return e.id<t.state}).length+(t.isCurrentStateComplete?1:0))/n.length*100}),S()(y()(a),"taskItemKeySelector",function(e){return e.id}),S()(y()(a),"taskItemRendererParams",function(e,t){var n=a.state.posmStatus,s=n.state,r=n.isCurrentStateComplete,o=n.hasErrored,l="pending";return t.id<s?l="completed":t.id>s?l="not-initiated":o?l="failed":r&&(l="completed"),{className:z.a.tasksItem,status:l,label:t.name}}),a.state={posmStatus:{state:n.not_triggered,isCurrentStateComplete:!0,hasErrored:!1},posmStates:[{id:n.not_triggered,name:"Not Triggered",hidden:!0},{id:n.gathering_changesets,name:"Gathering Changesets"},{id:n.extracting_upstream_aoi,name:"Extracting Upstream AOI"},{id:n.extracting_local_aoi,name:"Extracting Local AOI"},{id:n.filtering_referenced_osm_elements,name:"Identifying conflicts"},{id:n.conflicts,name:"Conflicts identified",hidden:!0},{id:n.resolved,name:"Conflicts resolved",hidden:!0},{id:n.push_conflicts,name:"Pushing conflicts",hidden:!0},{id:n.pushed_upstream,name:"Pushing resolved data to OSM",hidden:!0}]},a}return C()(t,e),p()(t,[{key:"render",value:function(){var e=this.props.className,t=this.state,a=t.posmStatus,s=t.posmStates,o="Jawalakhel",l="It is best known for its rich cultural heritage, particularly its tradition of arts and crafts. It is called city of festival and feast, fine ancient art, making of metallic and stone carving statue.",c=12e3,i="2019-12-02",u=13,m=12121,d=1938,p=12,f=a.state<=n.not_triggered,_=function(e){return e===n.conflicts}(a.state),v=function(e){return e>n.not_triggered&&e<n.conflicts}(a.state),g=function(e){return e===n.resolved}(a.state),h=3,y=35,b=h/y*100,C=y!==h;return N.a.createElement("div",{className:Object(x.a)(e,z.a.dashboard)},N.a.createElement("div",{className:z.a.sidebar},N.a.createElement("header",{className:z.a.header},N.a.createElement("h2",{className:z.a.heading},o),N.a.createElement("div",{className:z.a.description,title:l},l)),N.a.createElement("div",{className:z.a.details},N.a.createElement(A,{label:"Area",value:c}),N.a.createElement(A,{label:"Date extracted",value:i}),N.a.createElement(A,{label:"Local changesets",value:u}),N.a.createElement(A,{label:"Nodes",value:m}),N.a.createElement(A,{label:"Ways",value:d}),N.a.createElement(A,{label:"Relations",value:p})),f&&N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:z.a.actions},N.a.createElement(R.a,{buttonType:"button-primary",className:z.a.startButton,onClick:this.handleStartButtonClick},"Start")),N.a.createElement(M,{className:z.a.info,message:"The replay tool has not been started!"})),!f&&N.a.createElement("div",{className:z.a.progress},N.a.createElement("h3",{className:z.a.heading},"Progress"),N.a.createElement(P.a,{className:z.a.taskList,data:this.getVisiblePosmStates(s),renderer:Q,keySelector:this.taskItemKeySelector,rendererParams:this.taskItemRendererParams}),v&&N.a.createElement(V.a,{className:z.a.progressBar,progress:this.getPosmStateProgress(s,a)}),v&&a.hasErrored&&N.a.createElement("div",{className:z.a.actions},N.a.createElement(R.a,{buttonType:"button-primary",className:z.a.retryButton,onClick:this.handleRetryButtonClick},"Retry"))),_&&N.a.createElement("div",{className:z.a.conflicts},N.a.createElement("h3",{className:z.a.heading},"Conflicts"),N.a.createElement(V.a,{className:z.a.progressBar,progress:b}),N.a.createElement(j.a,{className:z.a.conflictStatus,total:y,resolved:h}),N.a.createElement("div",{className:z.a.actions},N.a.createElement(R.a,{buttonType:"button-primary",className:z.a.resolveConflictButton,onClick:this.handleResolveConflictButtonClick},"Show Conflicts")),C&&N.a.createElement(M,{className:z.a.info,message:"Resolve all conflicts to push changes to OSM"})),g&&N.a.createElement("div",{className:z.a.resolution},N.a.createElement("div",{className:z.a.actions},N.a.createElement(R.a,{buttonType:"button-primary",className:z.a.pushToUpstreamButton,onClick:this.handlePushToUpstreamButton},"Push to OSM")))),N.a.createElement(I.a,{mapStyle:te,mapOptions:ee,scaleControlShown:!0,navControlShown:!0},N.a.createElement(L.a,{bounds:ee.bounds,padding:50}),N.a.createElement(B.a,{className:r()(z.a)})))}}]),t}(N.a.PureComponent);t.default=ne},UAck:function(e,t,a){"use strict";var n=a("zLi2"),s=a.n(n),r=a("FLGM"),o=a.n(r),l=a("q1tI"),c=a("kOYn"),i=function(e){var t=Object(l.useContext)(c.a),a=o()(t),n=e.padding,r=e.duration,i=e.bounds;return Object(l.useEffect)(function(){if(a&&i){var e=s()(i,4),t=e[0],o=e[1],l=e[2],c=e[3];a.fitBounds([[t,o],[l,c]],{padding:n,duration:r})}},[a,i]),null};i.defaultProps={padding:0,duration:200},t.a=i},gzC2:function(e,t,a){"use strict";var n=a("LYCE"),s=a.n(n),r=a("HnXd"),o=a.n(r),l=a("qjzJ"),c=a.n(l),i=a("fHi0"),u=a.n(i),m=a("5PDf"),d=a.n(m),p=a("OWCx"),f=a.n(p),_=a("+oHS"),v=a.n(_),g=a("i5y0"),h=a.n(g),y=a("RXMP"),b=a.n(y),C=a("Kwsy"),E=a.n(C),S=a("04Ix"),k=a.n(S),N=a("zLi2"),x=a.n(N),w=a("q1tI"),O=a.n(w),P=a("4ZJM"),R=a.n(P),I=a("V/h/"),B=a("kOYn");function L(e,t){var a=v()(e);if(f.a){var n=f()(e);t&&(n=d()(n).call(n,function(t){return u()(e,t).enumerable})),a.push.apply(a,n)}return a}var j=!R.a.supported(),Y=Object({NODE_ENV:"production",REACT_APP_OSM_LAYER_URL:"https://raw.githubusercontent.com/peetjvv/custom-mapbox-styles-examples/master/tilejson/2.2.0/esri_worldimagery_tilejson.json",REACT_APP_VERSION:"901c919",REACT_APP_COMMITHASH:"901c919ac282d61e8bb2ddd65f2985380962bc8d",REACT_APP_BRANCH:"feature/conflict-resolution-page"}).REACT_APP_MAPBOX_ACCESS_TOKEN;Y&&(R.a.accessToken=Y);var T=function(){},A=function(e){var t=e.mapStyle,a=e.mapOptions,n=e.scaleControlPosition,r=e.scaleControlShown,l=e.scaleControlOptions,i=e.navControlShown,m=e.navControlOptions,d=e.navControlPosition,p=Object(w.useState)(void 0),f=x()(p,2),_=f[0],v=f[1],g=Object(w.useRef)({}),y=Object(w.useRef)(null),C=Object(w.useRef)(void 0);Object(w.useEffect)(function(){if(j)return console.error("No Mapboxgl support."),T;var e=y.current;if(!e)return console.error("No container found."),T;var p=new R.a.Map(function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)b()(a=L(n,!0)).call(a,function(t){k()(e,t,n[t])});else if(c.a)o()(e,c()(n));else{var r;b()(r=L(n)).call(r,function(t){s()(e,t,u()(n,t))})}}return e}({container:e,style:t,preserveDrawingBuffer:!0},a));if(C.current=p,console.warn("Creating new map"),r){var f=new R.a.ScaleControl(l);p.addControl(f,n)}if(i){var _=new R.a.NavigationControl(m);p.addControl(_,d)}var v=E()(function(){p.resize()},200);return function(){var e;clearTimeout(v),b()(e=h()(g.current)).call(e,function(e){var t=x()(e,2);t[0];t[1].destroy()}),console.warn("Removing map"),p.remove()}},[]),Object(w.useEffect)(function(){if(j)return T;if(C.current&&t){var e;b()(e=h()(g.current)).call(e,function(e){var t=x()(e,2);t[0];t[1].destroy()}),console.warn("Setting map style ".concat(t)),C.current.setStyle(t);var a=function(e){console.info("Passing mapStyle:",t),v(t)};return C.current.once("styledata",a),function(){C.current&&C.current.off("styledata",a)}}return T},[t]);var S=e.children;if(j)return S;var N={map:C.current,mapStyle:_,mapContainerRef:y,getSource:function(e){return g.current[e]},isSourceDefined:function(e){return!!g.current[e]},setSource:function(e){g.current=Object(I.a)(g.current,function(t){t[e.name]=e})},removeSource:function(e){g.current[e]&&(g.current=Object(I.a)(g.current,function(t){delete t[e]}),C.current&&(console.warn("Removing source: ".concat(e)),C.current.removeSource(e)))}};return O.a.createElement(B.a.Provider,{value:N},S)};A.defaultProps={scaleControlShown:!1,scaleControlPosition:"bottom-right",navControlShown:!1,navControlPosition:"top-right"},t.a=A},hWwH:function(e,t,a){"use strict";var n=a("06Pm"),s=a.n(n),r=a("kA7L"),o=a.n(r),l=a("3SUL"),c=a.n(l),i=a("eYnF"),u=a.n(i),m=a("X5/F"),d=a.n(m),p=a("q1tI"),f=a.n(p),_=a("FRrY"),v=a("JMDu"),g=a.n(v),h=function(e){function t(){return s()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.progressClassName,n=e.progress,s="".concat(Math.max(0,Math.min(100,n)),"%");return f.a.createElement("div",{className:Object(_.a)(g.a.progressBar,t)},f.a.createElement("div",{style:{width:s},className:Object(_.a)(g.a.progress,a)}))}}]),t}(f.a.PureComponent);t.a=h},hY82:function(e,t,a){e.exports={map:"styles_map_PFLIB1Z6IDv1Mwp_Q6hr_"}},k3Yy:function(e,t,a){"use strict";var n=a("06Pm"),s=a.n(n),r=a("kA7L"),o=a.n(r),l=a("3SUL"),c=a.n(l),i=a("eYnF"),u=a.n(i),m=a("X5/F"),d=a.n(m),p=a("04Ix"),f=a.n(p),_=a("q1tI"),v=a.n(_),g=a("FRrY"),h=a("nJBp"),y=a.n(h),b=function(e){function t(){return s()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.resolved,n=e.label,s=e.total;return v.a.createElement("div",{className:Object(g.a)(y.a.conflictStatus,t)},v.a.createElement("div",{className:y.a.resolvedConflicts},a),v.a.createElement("div",{className:y.a.separator},"of"),v.a.createElement("div",{className:y.a.totalConflicts},s),v.a.createElement("div",{className:y.a.postLabel},"".concat(n," resolved")))}}]),t}(v.a.PureComponent);f()(b,"defaultProps",{resolved:0,partiallyResolved:0,total:0,label:"conflicts"}),t.a=b},kOYn:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return i});var n=a("q1tI"),s=a.n(n),r=function(){},o={map:void 0,mapContainerRef:void 0,mapStyle:"mapbox://styles/mapbox/streets-v11",setSource:r,getSource:function(){},removeSource:r,isSourceDefined:function(){return!1}},l=s.a.createContext(o),c={map:void 0,mapStyle:"mapbox://styles/mapbox/streets-v11",sourceKey:void 0,setLayer:r,getLayer:function(){},removeLayer:r},i=s.a.createContext(c)},nJBp:function(e,t,a){e.exports={"conflict-status":"styles_conflict-status_18RqNDSPYJxshDcBpuzY2H",conflictStatus:"styles_conflict-status_18RqNDSPYJxshDcBpuzY2H","resolved-conflicts":"styles_resolved-conflicts_1J4WThuR_exY2W9kwnD3Vb",resolvedConflicts:"styles_resolved-conflicts_1J4WThuR_exY2W9kwnD3Vb",separator:"styles_separator_OKcFpoIVw6ZcHocnLUVbr","total-conflicts":"styles_total-conflicts_BIOqwLBWQ3885ArBWv75J",totalConflicts:"styles_total-conflicts_BIOqwLBWQ3885ArBWv75J","post-label":"styles_post-label_4erxi47wbsWVIKVeVYI3Y",postLabel:"styles_post-label_4erxi47wbsWVIKVeVYI3Y"}},vcHt:function(e,t,a){e.exports={"text-output":"styles_text-output_3oDTsu__4pDZYocgRpZf9c",textOutput:"styles_text-output_3oDTsu__4pDZYocgRpZf9c",label:"styles_label_2Uk3Q-ZIC7K3T8KbR_F_V5",value:"styles_value_UCoRqQP_7jQNM5mOQuQ65"}}}]);
//# sourceMappingURL=../sourcemaps/js/4.e4c2c3967f17d4ba69d3.js.map