{"version":3,"sources":["webpack:///./src/components/Info/styles.scss","webpack:///./src/vendor/re-map/MapContainer/index.tsx","webpack:///./src/views/Dashboard/styles.scss","webpack:///./src/components/ProgressBar/styles.scss","webpack:///./src/components/TaskItem/styles.scss","webpack:///./src/views/Dashboard/index.tsx","webpack:///./src/components/TextOutput/index.tsx","webpack:///./src/components/Info/index.tsx","webpack:///./src/components/TaskItem/index.tsx","webpack:///./src/constants/pathNames.ts","webpack:///./src/vendor/re-map/MapBounds.tsx","webpack:///./src/vendor/re-map/index.tsx","webpack:///./src/components/ProgressBar/index.tsx","webpack:///./src/vendor/re-map/MapContainer/styles.scss","webpack:///./src/components/ConflictStatus/index.tsx","webpack:///./src/vendor/re-map/context.ts","webpack:///./src/components/ConflictStatus/styles.scss","webpack:///./src/components/TextOutput/styles.scss"],"names":["module","exports","info","icon","message","MapContainer","props","className","mapContainerRef","useContext","MapChildContext","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","_cs","_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default","styles","dashboard","sidebar","header","heading","description","details","actions","start-button","startButton","progress","progress-bar","progressBar","task-list","taskList","retry-button","retryButton","conflicts","resolve-conflict-button","resolveConflictButton","conflict-status","conflictStatus","resolution","push-to-upstream-button","pushToUpstreamButton","map","task-item","taskItem","left","right","not-initiated","notInitiated","completed","failed","pending","PosmStateEnum","TextOutput","_this$props","this","label","value","labelClassName","valueClassName","react_default","textOutput","React","PureComponent","Info","Icon","name","iconNames","statusStyles","TaskItem","status","Spinner","spinner","mapping","listToMap","filter_default","routeSettings","call","isNotFallbackRoute","item","path","lalitpurBounds","mapOptions","zoomLevel","center","bounds","mapStyle","version","sources","mm","type","url","process","tileSize","layers","id","paint","background-color","source","speed","Dashboard","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","defineProperty_default","assertThisInitialized_default","setState","posmStatus","state","gathering_changesets","set_timeout_default","extracting_upstream_aoi","extracting_local_aoi","filtering_referenced_osm_elements","hasErrored","navigate","pathNames","conflictResolution","console","log","memoize","posmStates","hidden","visiblePosmStates","getVisiblePosmStates","length","isCurrentStateComplete","key","_this$state$posmStatu","stateStatus","tasksItem","not_triggered","resolved","push_conflicts","pushed_upstream","_this$state","aoi","notStartedStep","conflictedStep","isConflicted","analyzing","isAnalyzing","resolvedStep","isResolved","conflict","conflictProgress","resolveDisabled","title","components_TextOutput","Fragment","Button","buttonType","onClick","handleStartButtonClick","components_Info","ListView","data","renderer","keySelector","taskItemKeySelector","rendererParams","taskItemRendererParams","ProgressBar","getPosmStateProgress","handleRetryButtonClick","ConflictStatus","total","handleResolveConflictButtonClick","handlePushToUpstreamButton","re_map","scaleControlShown","navControlShown","MapBounds","padding","map_default","_useContext","_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_1___default","duration","useEffect","_bounds","_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","fooLon","fooLat","barLon","barLat","fitBounds","defaultProps","UNSUPPORTED_BROWSER","mapboxgl","supported","TOKEN","REACT_APP_MAPBOX_ACCESS_TOKEN","accessToken","noop","Map","mapStyleFromProps","scaleControlPosition","scaleControlOptions","navControlOptions","navControlPosition","_useState","useState","_useState2","_babel_runtime_corejs3_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default","setMapStyle","sourcesRef","useRef","mapRef","undefined","error","mapContainer","current","mapboxglMap","_objectSpread","container","style","preserveDrawingBuffer","warn","scale","ScaleControl","addControl","nav","NavigationControl","onStyleData","event","stylesheet","sprite","concat","on","timer","_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_9___default","resize","_context","clearTimeout","_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_8___default","_babel_runtime_corejs3_core_js_stable_object_entries__WEBPACK_IMPORTED_MODULE_7___default","_ref","_ref2","destroy","off","remove","setStyle","children","childrenProps","getSource","sourceKey","isSourceDefined","setSource","produce","safeSource","removeSource","react__WEBPACK_IMPORTED_MODULE_12___default","_context__WEBPACK_IMPORTED_MODULE_15__","Provider","progressClassName","progressWidth","Math","max","min","react__WEBPACK_IMPORTED_MODULE_5___default","width","react__WEBPACK_IMPORTED_MODULE_6___default","resolvedConflicts","separator","totalConflicts","postLabel","partiallyResolved","__webpack_require__","d","__webpack_exports__","SourceChildContext","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","initialMapChildState","createContext","initialSourceChildState","setLayer","getLayer","removeLayer","resolved-conflicts","total-conflicts","post-label","text-output"],"mappings":"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","file":"js/4.ec6154a8afc74e7fef53.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"styles_info_3i86R1UO_I-4PL_mbaqsb0\",\"icon\":\"styles_icon_28r5ju0DDwvXLe5aMREC6f\",\"message\":\"styles_message_VfbgbRA0Z_Wnsayc9mvqJ\"};","import React, { useContext } from 'react';\nimport { _cs } from '@togglecorp/fujs';\n\nimport { MapChildContext } from '../context';\nimport styles from './styles.scss';\n\ninterface Props {\n    className?: string;\n}\n\n// TODO: make container responsive\nconst MapContainer = (props: Props) => {\n    const { className } = props;\n    const { mapContainerRef } = useContext(MapChildContext);\n\n    return (\n        <div\n            ref={mapContainerRef}\n            className={_cs(className, styles.map)}\n        />\n    );\n};\n\nexport default MapContainer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"styles_dashboard_8ywT-7rT8ooKvsEAy0rmm\",\"sidebar\":\"styles_sidebar_3yzacA5O5ZWcUlE4HqdnbX\",\"header\":\"styles_header_2E2Ufn9FsGt6qvDIE50-cw\",\"heading\":\"styles_heading_2DZa7wfEDLWfA7wYAHCAjL\",\"description\":\"styles_description_2mBVvotcokFipjUbVlrVp\",\"details\":\"styles_details_3vxjctnd_SDi2YnHFacJL_\",\"actions\":\"styles_actions_2VrLVUjooTMemXCFIuWTQt\",\"start-button\":\"styles_start-button_3y601DJk7lWMgJCcSqv9wf\",\"startButton\":\"styles_start-button_3y601DJk7lWMgJCcSqv9wf\",\"info\":\"styles_info_27ain1UkM63bK6lmg-2Nsv\",\"progress\":\"styles_progress_Hlbu2-Yhp3k3g2ZBFwYpT\",\"progress-bar\":\"styles_progress-bar_3nZh51uvKUwX1-SIx1QN1M\",\"progressBar\":\"styles_progress-bar_3nZh51uvKUwX1-SIx1QN1M\",\"task-list\":\"styles_task-list_1gq_xx3LsIQUcd0OpZ7Rxw\",\"taskList\":\"styles_task-list_1gq_xx3LsIQUcd0OpZ7Rxw\",\"retry-button\":\"styles_retry-button_1WpOvG6sxYnRgy0OMJ0TF7\",\"retryButton\":\"styles_retry-button_1WpOvG6sxYnRgy0OMJ0TF7\",\"conflicts\":\"styles_conflicts_2ZEqiCvAW2DpiLKmMTRcow\",\"resolve-conflict-button\":\"styles_resolve-conflict-button_cWxi-rsTKJknQwiaOIki\",\"resolveConflictButton\":\"styles_resolve-conflict-button_cWxi-rsTKJknQwiaOIki\",\"conflict-status\":\"styles_conflict-status_21eHFd9VE4Zhi6Xqk7-nhA\",\"conflictStatus\":\"styles_conflict-status_21eHFd9VE4Zhi6Xqk7-nhA\",\"resolution\":\"styles_resolution_Oc6BJ81lAVK8w2RG0xxhF\",\"push-to-upstream-button\":\"styles_push-to-upstream-button_1II5ckWc6A-usrXWwHuPZL\",\"pushToUpstreamButton\":\"styles_push-to-upstream-button_1II5ckWc6A-usrXWwHuPZL\",\"map\":\"styles_map_2D6nXsU3GMwq5ganIeDJZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress-bar\":\"styles_progress-bar_2UlCxFFB7yVwXd1Q4w9DsO\",\"progressBar\":\"styles_progress-bar_2UlCxFFB7yVwXd1Q4w9DsO\",\"progress\":\"styles_progress_3j9e76lFA6s5FGGll8HXdY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"task-item\":\"styles_task-item_1PZFtrQPtuQxZPpDsawRrT\",\"taskItem\":\"styles_task-item_1PZFtrQPtuQxZPpDsawRrT\",\"left\":\"styles_left_kL3yMdDyVZRVyKGI52fZG\",\"right\":\"styles_right_2pgZMF91PTBYPkfqQxEOmO\",\"not-initiated\":\"styles_not-initiated_2CmZcxL8dtVqj05QV2It4k\",\"notInitiated\":\"styles_not-initiated_2CmZcxL8dtVqj05QV2It4k\",\"completed\":\"styles_completed_2HlEk92Y9iXSiCKqGR_Zt_\",\"failed\":\"styles_failed_1_gmUXGFbeXhz_0FehvCHh\",\"pending\":\"styles_pending_1vjg0T10c0rW9DLrpHuZQX\"};","import React from 'react';\nimport { _cs } from '@togglecorp/fujs';\nimport memoize from 'memoize-one';\nimport { navigate } from '@reach/router';\n\nimport ListView from '#rsu/../v2/View/ListView';\nimport Button from '#rsu/../v2/Action/Button';\n\nimport Map from '#re-map';\nimport MapContainer from '#re-map/MapContainer';\nimport MapBounds from '#re-map/MapBounds';\n\nimport ConflictStatus from '#components/ConflictStatus';\nimport TextOutput from '#components/TextOutput';\nimport Info from '#components/Info';\nimport ProgressBar from '#components/ProgressBar';\nimport TaskItem, { Status } from '#components/TaskItem';\n\nimport pathNames from '#constants/pathNames';\n\nimport styles from './styles.scss';\n\nenum PosmStateEnum {\n    'not_triggered',\n    'gathering_changesets',\n    'extracting_upstream_aoi',\n    'extracting_local_aoi',\n    'filtering_referenced_osm_elements',\n    'conflicts',\n    'resolved',\n    'push_conflicts',\n    'pushed_upstream',\n}\nconst isNotStarted = (state: PosmStateEnum) => state <= PosmStateEnum.not_triggered;\nconst isAnalyzing = (state: PosmStateEnum) => (\n    state > PosmStateEnum.not_triggered && state < PosmStateEnum.conflicts\n);\nconst isConflicted = (state: PosmStateEnum) => state === PosmStateEnum.conflicts;\nconst isResolved = (state: PosmStateEnum) => state === PosmStateEnum.resolved;\n\ninterface PosmState {\n    id: PosmStateEnum;\n    name: string;\n    hidden?: boolean;\n}\n\ninterface PosmStatus {\n    state: PosmStateEnum;\n    isCurrentStateComplete?: boolean;\n    hasErrored?: boolean;\n}\n\nconst nepalCenter: [number, number] = [\n    84.1240, 28.3949,\n];\n\n/*\nconst nepalBounds: [number, number, number, number] = [\n    80.05858661752784, 26.347836996368667,\n    88.20166918432409, 30.44702867091792,\n];\n*/\n\nconst lalitpurBounds: [number, number, number, number] = [\n    85.31066555023207,\n    27.67117097577173,\n    85.32710212707534,\n    27.682648488328013,\n];\n\nconst mapOptions = {\n    zoomLevel: 3,\n    center: nepalCenter,\n    bounds: lalitpurBounds,\n};\n\nconst mapStyle: mapboxgl.MapboxOptions['style'] = {\n    version: 8,\n    name: 'Base Layer',\n    sources: {\n        mm: {\n            type: 'raster',\n            url: process.env.REACT_APP_OSM_LAYER_URL,\n            tileSize: 256,\n            // tileSize: 256,\n        },\n    },\n    layers: [\n        {\n            id: 'background',\n            type: 'background',\n            paint: { 'background-color': 'rgb(239, 239, 239)' },\n        },\n        {\n            id: 'mm_layer',\n            type: 'raster',\n            source: 'mm',\n        },\n    ],\n};\n\n\nconst speed = 0.6;\n\ninterface State {\n    posmStatus: PosmStatus;\n    posmStates: PosmState[];\n}\ninterface Props {\n    className?: string;\n}\n\nclass Dashboard extends React.PureComponent<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            posmStatus: {\n                state: PosmStateEnum.not_triggered,\n                isCurrentStateComplete: true,\n                hasErrored: false,\n            },\n            posmStates: [\n                { id: PosmStateEnum.not_triggered, name: 'Not Triggered', hidden: true },\n                { id: PosmStateEnum.gathering_changesets, name: 'Gathering Changesets' },\n                { id: PosmStateEnum.extracting_upstream_aoi, name: 'Extracting Upstream AOI' },\n                { id: PosmStateEnum.extracting_local_aoi, name: 'Extracting Local AOI' },\n                { id: PosmStateEnum.filtering_referenced_osm_elements, name: 'Identifying conflicts' },\n                { id: PosmStateEnum.conflicts, name: 'Conflicts identified', hidden: true },\n                { id: PosmStateEnum.resolved, name: 'Conflicts resolved', hidden: true },\n                { id: PosmStateEnum.push_conflicts, name: 'Pushing conflicts', hidden: true },\n                { id: PosmStateEnum.pushed_upstream, name: 'Pushing resolved data to OSM', hidden: true },\n            ],\n        };\n    }\n\n    private handleStartButtonClick = () => {\n        this.setState({\n            posmStatus: { state: PosmStateEnum.gathering_changesets },\n        });\n        setTimeout(\n            () => {\n                this.setState({\n                    posmStatus: { state: PosmStateEnum.extracting_upstream_aoi },\n                });\n            },\n            1000 * speed,\n        );\n        setTimeout(\n            () => {\n                this.setState({\n                    posmStatus: { state: PosmStateEnum.extracting_local_aoi },\n                });\n            },\n            2000 * speed,\n        );\n        setTimeout(\n            () => {\n                this.setState({\n                    posmStatus: { state: PosmStateEnum.filtering_referenced_osm_elements },\n                });\n            },\n            4000 * speed,\n        );\n        setTimeout(\n            () => {\n                this.setState({\n                    posmStatus: {\n                        state: PosmStateEnum.filtering_referenced_osm_elements,\n                        hasErrored: true,\n                    },\n                });\n            },\n            5000 * speed,\n        );\n    }\n\n    private handleRetryButtonClick = () => {\n        this.setState({\n            posmStatus: { state: PosmStateEnum.filtering_referenced_osm_elements },\n        });\n        setTimeout(\n            () => {\n                this.setState({\n                    posmStatus: { state: PosmStateEnum.conflicts },\n                });\n            },\n            3000 * speed,\n        );\n    }\n\n    /*\n    private handleResolveConflictButtonClick = () => {\n        this.setState({\n            posmStatus: { state: PosmStateEnum.resolved, isCurrentStateComplete: true },\n        });\n    }\n    */\n\n    private handleResolveConflictButtonClick = () => {\n        navigate(pathNames.conflictResolution);\n    }\n\n    private handlePushToUpstreamButton = () => {\n        console.log('Push to upstream');\n    }\n\n    private getVisiblePosmStates = memoize((posmStates: PosmState[]) => (\n        posmStates.filter(item => !item.hidden)\n    ))\n\n    private getPosmStateProgress = (posmStates: PosmState[], posmStatus: PosmStatus) => {\n        const visiblePosmStates = this.getVisiblePosmStates(posmStates);\n        const completedStates = visiblePosmStates.filter(item => item.id < posmStatus.state);\n        const totalCompleted = completedStates.length + (posmStatus.isCurrentStateComplete ? 1 : 0);\n        return 100 * (totalCompleted / visiblePosmStates.length);\n    }\n\n    private taskItemKeySelector = (item: PosmState) => item.id;\n\n    private taskItemRendererParams = (key: PosmStateEnum, value: PosmState) => {\n        const {\n            posmStatus: {\n                state,\n                isCurrentStateComplete,\n                hasErrored,\n            },\n        } = this.state;\n\n        let stateStatus: Status = 'pending';\n        if (value.id < state) {\n            stateStatus = 'completed';\n        } else if (value.id > state) {\n            stateStatus = 'not-initiated';\n        } else if (hasErrored) {\n            stateStatus = 'failed';\n        } else if (isCurrentStateComplete) {\n            stateStatus = 'completed';\n        }\n\n        return {\n            className: styles.tasksItem,\n            status: stateStatus,\n            label: value.name,\n        };\n    };\n\n    public render() {\n        const {\n            className,\n        } = this.props;\n        const {\n            posmStatus,\n            posmStates,\n        } = this.state;\n\n        const aoi = {\n            name: 'Jawalakhel',\n            description: 'It is best known for its rich cultural heritage, particularly its tradition of arts and crafts. It is called city of festival and feast, fine ancient art, making of metallic and stone carving statue.',\n            area: 12000,\n            dateExtracted: '2019-12-02',\n            bounds: lalitpurBounds,\n            totalChangesets: 13,\n            nodes: 12121,\n            ways: 1938,\n            relations: 12,\n        };\n\n        const notStartedStep = isNotStarted(posmStatus.state);\n        const conflictedStep = isConflicted(posmStatus.state);\n        const analyzing = isAnalyzing(posmStatus.state);\n        const resolvedStep = isResolved(posmStatus.state);\n\n        const conflict = {\n            resolvedCount: 3,\n            totalCount: 35,\n        };\n        const conflictProgress = 100 * (conflict.resolvedCount / conflict.totalCount);\n        const resolveDisabled = conflict.totalCount !== conflict.resolvedCount;\n\n        return (\n            <div className={_cs(className, styles.dashboard)}>\n                <div className={styles.sidebar}>\n                    <header className={styles.header}>\n                        <h2 className={styles.heading}>\n                            { aoi.name }\n                        </h2>\n                        <div\n                            className={styles.description}\n                            title={aoi.description}\n                        >\n                            {aoi.description}\n                        </div>\n                    </header>\n                    <div className={styles.details}>\n                        <TextOutput\n                            label=\"Area\"\n                            value={aoi.area}\n                        />\n                        <TextOutput\n                            label=\"Date extracted\"\n                            value={aoi.dateExtracted}\n                        />\n                        <TextOutput\n                            label=\"Local changesets\"\n                            value={aoi.totalChangesets}\n                        />\n                        <TextOutput\n                            label=\"Nodes\"\n                            value={aoi.nodes}\n                        />\n                        <TextOutput\n                            label=\"Ways\"\n                            value={aoi.ways}\n                        />\n                        <TextOutput\n                            label=\"Relations\"\n                            value={aoi.relations}\n                        />\n                    </div>\n\n                    {notStartedStep && (\n                        <>\n                            <div className={styles.actions}>\n                                <Button\n                                    buttonType=\"button-primary\"\n                                    className={styles.startButton}\n                                    onClick={this.handleStartButtonClick}\n                                >\n                                    Start\n                                </Button>\n                            </div>\n                            <Info\n                                className={styles.info}\n                                message=\"The replay tool has not been started!\"\n                            />\n                        </>\n                    )}\n\n                    {!notStartedStep && (\n                        <div className={styles.progress}>\n                            <h3 className={styles.heading}>\n                                Progress\n                            </h3>\n                            <ListView\n                                className={styles.taskList}\n                                data={this.getVisiblePosmStates(posmStates)}\n                                renderer={TaskItem}\n                                keySelector={this.taskItemKeySelector}\n                                rendererParams={this.taskItemRendererParams}\n                            />\n                            {analyzing && (\n                                <ProgressBar\n                                    className={styles.progressBar}\n                                    progress={this.getPosmStateProgress(posmStates, posmStatus)}\n                                />\n                            )}\n                            {(analyzing && posmStatus.hasErrored) && (\n                                <div className={styles.actions}>\n                                    <Button\n                                        buttonType=\"button-primary\"\n                                        className={styles.retryButton}\n                                        onClick={this.handleRetryButtonClick}\n                                    >\n                                        Retry\n                                    </Button>\n                                </div>\n                            )}\n                        </div>\n                    )}\n\n                    {conflictedStep && (\n                        <div className={styles.conflicts}>\n                            <h3 className={styles.heading}>\n                                Conflicts\n                            </h3>\n                            <ProgressBar\n                                className={styles.progressBar}\n                                progress={conflictProgress}\n                            />\n                            <ConflictStatus\n                                className={styles.conflictStatus}\n                                total={conflict.totalCount}\n                                resolved={conflict.resolvedCount}\n                            />\n                            <div className={styles.actions}>\n                                <Button\n                                    buttonType=\"button-primary\"\n                                    className={styles.resolveConflictButton}\n                                    onClick={this.handleResolveConflictButtonClick}\n                                    // disabled={resolveDisabled}\n                                >\n                                    Show Conflicts\n                                </Button>\n                            </div>\n                            {resolveDisabled && (\n                                <Info\n                                    className={styles.info}\n                                    message=\"Resolve all conflicts to push changes to OSM\"\n                                />\n                            )}\n                        </div>\n                    )}\n                    {resolvedStep && (\n                        <div className={styles.resolution}>\n                            <div className={styles.actions}>\n                                <Button\n                                    buttonType=\"button-primary\"\n                                    className={styles.pushToUpstreamButton}\n                                    onClick={this.handlePushToUpstreamButton}\n                                >\n                                    Push to OSM\n                                </Button>\n                            </div>\n                        </div>\n                    )}\n                </div>\n                <Map\n                    mapStyle={mapStyle}\n                    mapOptions={mapOptions}\n                    scaleControlShown\n                    navControlShown\n                >\n                    <MapBounds\n                        bounds={mapOptions.bounds}\n                        padding={50}\n                    />\n                    <MapContainer\n                        className={styles.map}\n                    />\n                </Map>\n            </div>\n        );\n    }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport { _cs } from '@togglecorp/fujs';\n\nimport styles from './styles.scss';\n\ninterface Props {\n    className?: string;\n    label: string;\n    value: React.ReactNode;\n    labelClassName?: string;\n    valueClassName?: string;\n    // valueType: 'string|number|date';\n}\n\nclass TextOutput extends React.PureComponent<Props> {\n    public render() {\n        const {\n            className,\n            label,\n            value,\n            labelClassName,\n            valueClassName,\n        } = this.props;\n\n        return (\n            <div className={_cs(styles.textOutput, className)}>\n                <div className={_cs(styles.label, labelClassName)}>\n                    { label }\n                </div>\n                <div className={_cs(styles.value, valueClassName)}>\n                    { value }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TextOutput;\n","import React from 'react';\nimport { _cs } from '@togglecorp/fujs';\n\nimport Icon from '#rscg/Icon';\n\nimport styles from './styles.scss';\n\ninterface Props {\n    className?: string;\n    message?: string;\n}\n\nclass Info extends React.PureComponent<Props> {\n    public render() {\n        const {\n            className,\n            message,\n        } = this.props;\n\n        return (\n            <div className={_cs(styles.info, className)}>\n                <Icon\n                    className={styles.icon}\n                    name=\"infoCircle\"\n                />\n                <div className={styles.message}>\n                    { message }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Info;\n","import React from 'react';\nimport { _cs } from '@togglecorp/fujs';\n\nimport Spinner from '#rsu/../v2/View/Spinner';\nimport Icon from '#rscg/Icon';\n\nimport styles from './styles.scss';\n\nexport type Status = 'not-initiated' | 'pending' | 'completed' | 'failed';\n\ninterface Props {\n    className?: string;\n    status: Status;\n    label: string;\n}\n\nconst iconNames: {\n    [key in Status]: string;\n} = {\n    'not-initiated': 'checkmarkCircleEmpty',\n    completed: 'checkmarkCircle',\n    failed: 'error',\n    pending: 'checkmarkCircleEmpty',\n};\n\nconst statusStyles: {\n    [key in Status]: string;\n} = {\n    'not-initiated': styles.notInitiated,\n    completed: styles.completed,\n    failed: styles.failed,\n    pending: styles.pending,\n};\n\nclass TaskItem extends React.PureComponent<Props> {\n    public render() {\n        const {\n            className,\n            status,\n            label,\n        } = this.props;\n\n        return (\n            <div className={_cs(styles.taskItem, className, statusStyles[status])}>\n                <div className={styles.left}>\n                    { status === 'pending' ? (\n                        <Spinner className={styles.spinner} />\n                    ) : (\n                        <Icon name={iconNames[status]} />\n                    )}\n                </div>\n                <div className={styles.right}>\n                    { label }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TaskItem;\n","import { listToMap } from '@togglecorp/fujs';\n\nimport routeSettings, { isNotFallbackRoute } from './routeSettings';\n\n// FIXME: pathNames is not exactly type-safe\nconst mapping: {\n    [key: string]: string;\n} = listToMap(\n    routeSettings.filter(isNotFallbackRoute),\n    item => item.name,\n    item => item.path,\n);\n\nexport default mapping;\n","import { useContext, useEffect } from 'react';\n\nimport { MapChildContext } from './context';\n\ninterface Props {\n    bounds?: [number, number, number, number];\n    padding: number;\n    duration: number;\n}\n\nconst MapContainer = (props: Props) => {\n    const { map } = useContext(MapChildContext);\n    const {\n        padding,\n        duration,\n        bounds,\n    } = props;\n\n    useEffect(\n        () => {\n            if (!map || !bounds) {\n                return;\n            }\n\n            const [fooLon, fooLat, barLon, barLat] = bounds;\n            map.fitBounds(\n                [[fooLon, fooLat], [barLon, barLat]],\n                {\n                    padding,\n                    duration,\n                },\n            );\n        },\n        [map, bounds],\n    );\n\n    return null;\n};\n\n\nMapContainer.defaultProps = {\n    padding: 0,\n    duration: 200, // ms\n};\n\nexport default MapContainer;\n","import React, { useState, useRef, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport produce from 'immer';\n\nimport { Sources, Source } from './type';\nimport { MapChildContext } from './context';\n\nconst UNSUPPORTED_BROWSER = !mapboxgl.supported();\nconst { REACT_APP_MAPBOX_ACCESS_TOKEN: TOKEN } = process.env;\nif (TOKEN) {\n    mapboxgl.accessToken = TOKEN;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\ninterface Props {\n    mapStyle: mapboxgl.MapboxOptions['style'];\n    mapOptions: Omit<mapboxgl.MapboxOptions, 'style' | 'container'>;\n\n    scaleControlShown: boolean;\n    scaleControlPosition?: Position;\n    scaleControlOptions?: ConstructorParameters<typeof mapboxgl.ScaleControl>[0];\n\n    navControlShown: boolean;\n    navControlPosition?: Position;\n    navControlOptions?: ConstructorParameters<typeof mapboxgl.NavigationControl>[0];\n}\n\ntype Position = 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left';\n\n\nconst Map: React.FC<Props> = (props) => {\n    const {\n        mapStyle: mapStyleFromProps,\n        mapOptions,\n\n        scaleControlPosition,\n        scaleControlShown,\n        scaleControlOptions,\n\n        navControlShown,\n        navControlOptions,\n        navControlPosition,\n    } = props;\n    const [mapStyle, setMapStyle] = useState(mapStyleFromProps);\n\n    const sourcesRef = useRef<Sources>({});\n\n    const mapContainerRef = useRef<HTMLDivElement>(null);\n    const mapRef = useRef<mapboxgl.Map | undefined>(undefined);\n\n    useEffect(\n        () => {\n            if (UNSUPPORTED_BROWSER) {\n                console.error('No Mapboxgl support.');\n                return noop;\n            }\n            const { current: mapContainer } = mapContainerRef;\n            if (!mapContainer) {\n                console.error('No container found.');\n                return noop;\n            }\n\n            const mapboxglMap = new mapboxgl.Map({\n                container: mapContainer,\n                style: mapStyleFromProps,\n                preserveDrawingBuffer: true,\n                ...mapOptions,\n            });\n\n            mapRef.current = mapboxglMap;\n            console.warn('Creating new map');\n\n            if (scaleControlShown) {\n                const scale = new mapboxgl.ScaleControl(scaleControlOptions);\n                mapboxglMap.addControl(scale, scaleControlPosition);\n            }\n\n            if (navControlShown) {\n                // NOTE: don't we need to remove control on unmount?\n                const nav = new mapboxgl.NavigationControl(navControlOptions);\n                mapboxglMap.addControl(\n                    nav,\n                    navControlPosition,\n                );\n            }\n\n            const onStyleData = (event: mapboxgl.MapEventType['styledata'] & mapboxgl.EventData) => {\n                // FIXME: style.load will be deprecated\n                const style = event.style.stylesheet.sprite;\n                console.info(`Passing mapStyle: ${style}`);\n                setMapStyle(style);\n            };\n\n            mapboxglMap.on('style.load', onStyleData);\n\n            // TODO: need to resize map in some cases\n            const timer = setTimeout(() => {\n                mapboxglMap.resize();\n            }, 200);\n\n            const destroy = () => {\n                clearTimeout(timer);\n\n                Object.entries(sourcesRef.current).forEach(([_, source]) => {\n                    source.destroy();\n                });\n\n                mapboxglMap.off('style.load', onStyleData);\n\n                console.warn('Removing map');\n                mapboxglMap.remove();\n            };\n\n            return destroy;\n        },\n        [],\n    );\n\n    useEffect(\n        () => {\n            if (UNSUPPORTED_BROWSER) {\n                return;\n            }\n            if (mapStyle === mapStyleFromProps) {\n                console.info(`Skipping map style set: ${mapStyleFromProps}`);\n                return;\n            }\n            if (mapRef.current && mapStyleFromProps) {\n                console.warn(`Setting map style ${mapStyleFromProps}`);\n                mapRef.current.setStyle(mapStyleFromProps);\n            }\n        },\n        [mapStyleFromProps],\n    );\n\n    const children = props.children as React.ReactElement<any>;\n    if (UNSUPPORTED_BROWSER) {\n        return children;\n    }\n\n    const childrenProps = {\n        map: mapRef.current,\n        mapStyle,\n        mapContainerRef,\n        getSource: (sourceKey: string) => sourcesRef.current[sourceKey],\n        isSourceDefined: (sourceKey: string) => !!sourcesRef.current[sourceKey],\n        setSource: (source: Source) => {\n            sourcesRef.current = produce(sourcesRef.current, (safeSource) => {\n                const { name } = source;\n                // eslint-disable-next-line no-param-reassign\n                safeSource[name] = source;\n            });\n        },\n        removeSource: (sourceKey: string) => {\n            if (!sourcesRef.current[sourceKey]) {\n                // console.error(`No source named: ${sourceKey}`);\n                return;\n            }\n\n            sourcesRef.current = produce(sourcesRef.current, (safeSource) => {\n                // eslint-disable-next-line no-param-reassign\n                delete safeSource[sourceKey];\n            });\n\n            if (mapRef.current) {\n                console.warn(`Removing source: ${sourceKey}`);\n                mapRef.current.removeSource(sourceKey);\n            }\n        },\n    };\n\n    return (\n        <MapChildContext.Provider value={childrenProps}>\n            {children}\n        </MapChildContext.Provider>\n    );\n};\n\nMap.defaultProps = {\n    scaleControlShown: false,\n    scaleControlPosition: 'bottom-right',\n\n    navControlShown: false,\n    navControlPosition: 'top-right',\n};\n\nexport default Map;\n","import React from 'react';\nimport {\n    _cs,\n} from '@togglecorp/fujs';\n\nimport styles from './styles.scss';\n\ninterface Props {\n    className?: string;\n    progressClassName?: string;\n    progress: number;\n}\n\nclass ProgressBar extends React.PureComponent<Props> {\n    public render() {\n        const {\n            className,\n            progressClassName,\n            progress,\n        } = this.props;\n\n        const progressWidth = `${Math.max(0, Math.min(100, progress))}%`;\n\n        return (\n            <div className={_cs(styles.progressBar, className)}>\n                <div\n                    style={{\n                        width: progressWidth,\n                    }}\n                    className={_cs(styles.progress, progressClassName)}\n                />\n            </div>\n        );\n    }\n}\n\nexport default ProgressBar;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"styles_map_PFLIB1Z6IDv1Mwp_Q6hr_\"};","import React from 'react';\nimport { _cs } from '@togglecorp/fujs';\n\nimport styles from './styles.scss';\n\ninterface Props {\n    className?: string;\n    resolved?: number;\n    total: number;\n    partiallyResolved?: number;\n}\n\nclass ConflictStatus extends React.PureComponent<Props> {\n    public static defaultProps = {\n        resolved: 0,\n        partiallyResolved: 0,\n        total: 0,\n    };\n\n    public render() {\n        const {\n            className,\n            resolved,\n            total,\n        } = this.props;\n\n        return (\n            <div className={_cs(styles.conflictStatus, className)}>\n                <div className={styles.resolvedConflicts}>\n                    {resolved}\n                </div>\n                <div className={styles.separator}>\n                    of\n                </div>\n                <div className={styles.totalConflicts}>\n                    {total}\n                </div>\n                <div className={styles.postLabel}>\n                    conflicts resolved\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ConflictStatus;\n","import React from 'react';\nimport mapboxgl from 'mapbox-gl';\n\nimport { Source, Layer } from './type';\n\ninterface MapChildState {\n    map?: mapboxgl.Map;\n    mapStyle?: mapboxgl.MapboxOptions['style'];\n    mapContainerRef?: React.RefObject<HTMLDivElement>;\n    setSource: (source: Source) => void;\n    getSource: (sourceKey: string) => Source | undefined;\n    removeSource: (sourceKey: string) => void;\n    isSourceDefined: (sourceKey: string) => boolean;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\nconst initialMapChildState: MapChildState = {\n    map: undefined,\n    mapContainerRef: undefined,\n    mapStyle: 'mapbox://styles/mapbox/streets-v11',\n\n    setSource: noop,\n    getSource: () => undefined,\n    removeSource: noop,\n    isSourceDefined: () => false,\n};\n\nexport const MapChildContext = React.createContext(initialMapChildState);\n\n\ninterface SourceChildState {\n    map?: mapboxgl.Map;\n    mapStyle?: string;\n    sourceKey?: string;\n\n    setLayer: (layer: Layer) => void;\n    getLayer: (layerKey: string) => Layer | undefined;\n    removeLayer: (layerKey: string) => void;\n}\n\nconst initialSourceChildState: SourceChildState = {\n    map: undefined,\n    mapStyle: 'mapbox://styles/mapbox/streets-v11',\n    sourceKey: undefined,\n\n    setLayer: noop,\n    getLayer: () => undefined,\n    removeLayer: noop,\n};\n\nexport const SourceChildContext = React.createContext(initialSourceChildState);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"conflict-status\":\"styles_conflict-status_18RqNDSPYJxshDcBpuzY2H\",\"conflictStatus\":\"styles_conflict-status_18RqNDSPYJxshDcBpuzY2H\",\"resolved-conflicts\":\"styles_resolved-conflicts_1J4WThuR_exY2W9kwnD3Vb\",\"resolvedConflicts\":\"styles_resolved-conflicts_1J4WThuR_exY2W9kwnD3Vb\",\"separator\":\"styles_separator_OKcFpoIVw6ZcHocnLUVbr\",\"total-conflicts\":\"styles_total-conflicts_BIOqwLBWQ3885ArBWv75J\",\"totalConflicts\":\"styles_total-conflicts_BIOqwLBWQ3885ArBWv75J\",\"post-label\":\"styles_post-label_4erxi47wbsWVIKVeVYI3Y\",\"postLabel\":\"styles_post-label_4erxi47wbsWVIKVeVYI3Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text-output\":\"styles_text-output_3oDTsu__4pDZYocgRpZf9c\",\"textOutput\":\"styles_text-output_3oDTsu__4pDZYocgRpZf9c\",\"label\":\"styles_label_2Uk3Q-ZIC7K3T8KbR_F_V5\",\"value\":\"styles_value_UCoRqQP_7jQNM5mOQuQ65\"};"],"sourceRoot":""}